{
  "id": 0,
  "name": "football",
  "api": {
    "type": "request_multiple_custom",
    "use_loop_as_key": true,
    "steps_value": [
      "Spiele",
      "Tabelle"
    ],
    "requests": [
      {
        "type": "request",
        "url_pattern": "https://www.openligadb.de/api/getmatchdata/bl1"
      },
      {
        "type": "request",
        "url_pattern": "https://www.openligadb.de/api/getbltable/bl1/2019"
      }
    ]
  },
  "transform": [
    {
      "type": "append",
      "key": "_req|Spiele|0|Group|GroupName",
      "new_key": "_req|Spieltag"
    },
    {
      "type": "append",
      "key": "_req|Spiele|0|LeagueName",
      "new_key": "_req|LeagueName"
    },
    {
      "type": "transform_array",
      "array_key": "_req|Spiele",
      "transform": [
        {
          "type": "select",
          "relevant_keys": [
            "Team1|TeamName",
            "Team1|TeamId",
            "Team2|TeamName",
            "Team2|TeamId",
            "MatchResults|0|PointsTeam1",
            "MatchResults|0|PointsTeam2",
            "MatchDateTime",
            "MatchIsFinished"
          ]
        },
        {
          "type": "alias",
          "keys": [
            "_loop|MatchResults|0"
          ],
          "new_keys": [
            "_loop|MatchResults"
          ]
        },
        {
          "type": "copy",
          "keys": [
            "_loop|MatchResults|PointsTeam1",
            "_loop|MatchResults|PointsTeam1"
          ],
          "new_keys": [
            "_loop|Team1|Won",
            "_loop|Team2|Lost"
          ]
        },
        {
          "type": "copy",
          "keys": [
            "_loop|MatchResults|PointsTeam2",
            "_loop|MatchResults|PointsTeam2"
          ],
          "new_keys": [
            "_loop|Team2|Won",
            "_loop|Team1|Lost"
          ]
        },
        {
          "type": "result",
          "keys": [
            "_loop|Team1",
            "_loop|Team2"
          ],
          "new_keys": [
            "_loop|Team1|Result",
            "_loop|Team2|Result"
          ],
          "compare_1": "Won",
          "compare_2": "Lost",
          "points": {
            "1": "1",
            "2": "3",
            "3": "0"
          }
        },
        {
          "type": "date_format",
          "keys": [
            "_loop|MatchDateTime"
          ],
          "new_keys": [
            "_loop|Matchday"
          ],
          "given_format": "%Y-%m-%dT%H:%M:%S",
          "format": "%a., %d.%m.%Y %H:%M"
        }
      ]
    },
    {
      "type": "transform_array",
      "array_key": "_req|Tabelle",
      "transform": [
        {
          "type": "select",
          "relevant_keys": [
            "TeamName",
            "TeamInfoId",
            "Points",
            "Won",
            "Lost",
            "GoalDiff"
          ]
        },
        {
          "type": "alias",
          "keys": [
            "_loop|TeamInfoId"
          ],
          "new_keys": [
            "_loop|TeamId"
          ]
        },
        {
          "type": "copy",
          "keys": [
            "_loop|Points",
            "_loop|Won",
            "_loop|Lost",
            "_loop|GoalDiff"
          ],
          "new_keys": [
            "_loop|Points_before",
            "_loop|Won_before",
            "_loop|Lost_before",
            "_loop|GoalDiff_before"
          ]
        }
      ]
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team1",
      "pattern": "Result",
      "new_key": "_loop|Result"
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team2",
      "pattern": "Result",
      "new_key": "_loop|Result"
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team1",
      "pattern": "Won",
      "new_key": "_loop|Goals_Won"
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team2",
      "pattern": "Won",
      "new_key": "_loop|Goals_Won"
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team1",
      "pattern": "Lost",
      "new_key": "_loop|Goals_Lost"
    },
    {
      "type": "transform_compare_arrays",
      "array_key_1": "_req|Tabelle",
      "array_key_2": "_req|Spiele",
      "compare": "TeamId",
      "where": "Team2",
      "pattern": "Lost",
      "new_key": "_loop|Goals_Lost"
    }
  ],
  "images": {
  },
  "audio": {
    "config": {
      "lang": "de",
      "format": "mp3"
    },
    "audios": {
      "a1": {
        "parts": [
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          }
        ]
      },
      "a2": {
        "parts": [
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          },
          {
            "type": "text",
            "pattern": " "
          }
        ]
      }
    }
  },
  "sequence": [
  ],
  "run_config": {
    "testing": {
      "default_value": false,
      "possible_values": [
        true,
        false
      ]
    }
  },
  "presets": {
  }
}