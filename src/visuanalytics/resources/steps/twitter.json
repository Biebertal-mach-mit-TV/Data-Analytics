{
  "id": 1,
  "name": "twitter",
  "api": {
    "type": "request",
    "api_key_name": "twitter",
    "url_pattern": "https://api.twitter.com/1.1/search/tweets.json",
    "params": {
      "q": "%23{_conf|hashtag}",
      "count": "100",
      "lang": "de",
      "result_type": "recent"
    },
    "headers": {
      "Authorization": "Bearer {_api_key}"
    }
  },
  "transform": [
    {
      "type": "transform_array",
      "array_key": "_req|statuses",
      "transform": [
        {
          "type": "select",
          "array_key": "statuses",
          "relevant_keys": [
            "entities|hashtags"
          ]
        },
        {
          "type": "transform_array",
          "array_key": "_loop|entities|hashtags",
          "transform": [
            {
              "type": "select",
              "array_key": "hashtags",
              "relevant_keys": [
                "text"
              ]
            },
            {
              "type": "append",
              "key": "_loop|text",
              "new_key": "_req|text_all",
              "append_type": "string"
            }
          ]
        }
      ]
    },
    {
      "type": "delete",
      "keys": [
        "_req|search_metadata",
        "_req|statuses"
      ]
    },
    {
      "type": "count_occurrences",
      "keys": "_req|text_all",
      "new_keys": "_req|words_dict"
    },
    {
      "type": "sort_dict",
      "keys": "_req|words_dict",
      "new_keys": "_req|sorted_dict"
    },
    {
      "type": "keys_to_list",
      "keys": "_req|sorted_dict",
      "new_keys": "_req|sorted_list"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 1,
      "new_keys": "_req|text_top1"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 2,
      "new_keys": "_req|text_top2"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 3,
      "new_keys": "_req|text_top3"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 4,
      "new_keys": "_req|text_top4"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 5,
      "new_keys": "_req|text_top5"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 10,
      "new_keys": "_req|text_top10"
    },
    {
      "type": "occurrences_to_string",
      "keys": "_req|sorted_dict",
      "range_start": 0,
      "range_end": 20,
      "new_keys": "_req|text_top20"
    }
  ],
  "images": {
    "all_words_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_all",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 2000,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top1_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top1",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top2_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top2",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top3_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top3",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top4_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top4",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top5_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top5",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top10_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top10",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "top20_wordcloud": {
      "type": "wordcloud",
      "text": "_req|text_top20",
      "stopwords": "_conf|stopwords",
      "parameter": {
        "figure": "_conf|figure",
        "background_color": "white",
        "width": "_conf|width_wordcloud",
        "height": "_conf|height_wordcloud",
        "collocations": false,
        "max_font_size": 400,
        "max_words": 200,
        "contour_width": 3,
        "contour_color": "white",
        "color_func": "_conf|color_func_words",
        "colormap": "_conf|colormap_words"
      }
    },
    "wordcloud_all": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "all_words_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top1": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top1_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top2": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top2_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top3": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top3_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top4": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top4_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top5": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top5_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top10": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top10_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    },
    "wordcloud_top20": {
      "type": "pillow",
      "path": "football/background.png",
      "overlay": [
        {
          "description": "Wordcloud",
          "type": "image",
          "color": "RGBA",
          "image_name": "top20_wordcloud",
          "color_transparency": "FFFFFF"
        }
      ]
    }
  },
  "audio": {
    "audios": {
      "a1": {
        "parts": [
          {
            "type": "text",
            "pattern": "Twitter-Wordcloud. "
          },
          {
            "type": "text",
            "pattern": "Auf Twitter wurden folgende Hashtags neben dem {_conf|hashtag} Hashtag verwendet. "
          }
        ]
      },
      "a2": {
        "parts": [
          {
            "type": "text",
            "pattern": "Twitter-Wordcloud. "
          },
          {
            "type": "text",
            "pattern": "Auf 1 Platz der Hashtags {_req|sorted_list|0} "
          }
        ]
      }
    }
  },
  "sequence": {
    "type": "custom",
    "pattern": [
      {
        "image": "wordcloud_top1",
        "audio_l": "a1",
        "time_diff": -6
      },
      {
        "image": "wordcloud_top2",
        "time_diff": 1
      },
      {
        "image": "wordcloud_top3",
        "time_diff": 2
      },
      {
        "image": "wordcloud_top4",
        "time_diff": 2
      },
      {
        "image": "wordcloud_top5",
        "time_diff": 2
      },
      {
        "image": "wordcloud_top10",
        "time_diff": 2
      },
      {
        "image": "wordcloud_top20",
        "time_diff": 2
      },
      {
        "image": "wordcloud_all",
        "time_diff": 5
      }
    ]
  },
  "run_config": [
    {
      "name": "stopwords",
      "display_name": "Aus Wordcloud ausschließen",
      "possible_values": [],
      "default_value": ""
    },
    {
      "name": "colormap_words",
      "display_name": "Farben der Wörter",
      "possible_values": [
        {
          "value": "magma",
          "display_value": "magma"
        },
        {
          "value": "inferno",
          "display_value": "inferno"
        },
        {
          "value": "plasma",
          "display_value": "plasma"
        },
        {
          "value": "viridis",
          "display_value": "viridis"
        }
      ],
      "default_value": "viridis"
    },
    {
      "name": "color_func_words",
      "display_name": "Farbverlauf der Wörter",
      "possible_values": [
        {
          "value": true,
          "display_value": "Blau"
        },
        {
          "value": false,
          "display_value": "Standard"
        }
      ],
      "default_value": false
    },
    {
      "name": "shape",
      "display_name": "Form der Wordcloud",
      "possible_values": [
        {
          "value": "circle",
          "display_value": "Kreis"
        },
        {
          "value": "square",
          "display_value": "Quadrat"
        }
      ],
      "default_value": "circle"
    }
  ],
  "presets": {
  }
}