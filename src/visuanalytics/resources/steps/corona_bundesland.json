{
  "id": 1,
  "name": "corona_bundesland",
  "info": "Der Corona-Bericht enth√§lt die aktuellen Corona Daten zu dem Angegebenem Bundesland.",
  "api": {
    "type": "request_multiple_custom",
    "use_loop_as_key": true,
    "steps_value": [
      "Aktuelle_Daten"
    ],
    "requests": [
      {
        "type": "request",
        "url_pattern": "https://services7.arcgis.com/mOBPykOjAyBO2ZKk/arcgis/rest/services/RKI_Landkreisdaten/FeatureServer/0/query?where=BL%20%3D%20'{_conf|Bundesland}'&outFields=*&outSR=4326&f=json"
      }
    ]
  },
  "transform": [
    {
      "type": "transform_array",
      "array_key": "_req|Aktuelle_Daten|features",
      "transform": [
        {
          "type": "select",
          "array_key": "_loop|attributes",
          "relevant_keys": [
            "attributes|cases",
            "attributes|cases_per_100k",
            "attributes|cases7_per_100k",
            "attributes|deaths",
            "attributes|death_rate",
            "attributes|last_update",
            "attributes|BEZ",
            "attributes|GEN"
          ]
        },
        {
          "type": "append",
          "keys": [
            "_loop|attributes|cases7_per_100k",
            "_loop|attributes|GEN"
          ],
          "new_keys": [
            "_req|14d_cases7_per_100k",
            "_req|citys"
          ]
        }
      ]
    },
    {
      "type": "copy",
      "keys": [
        "_req|Aktuelle_Daten|features"
      ],
      "new_keys": [
        "_req|Aktuelle_Daten"
      ]
    }
  ],
  "storing": [
  ],
  "images": {
    "corona0": {
      "type": "diagram",
      "plot_type": "bar_chart",
      "data": "{_req|14d_cases7_per_100k}",
      "label": "{_req|citys}",
      "plot_size_x": 30,
      "plot_size_y": 20,
      "label_rotation": 0,
      "axis_depth": 2,
      "label_colour": {
        "r": 0.02,
        "g": 0.36,
        "b": 0.49,
        "t": 1
      },
      "bar_colors": {
        "default": "#accfe9",
        "list": [
          {
            "number": 10,
            "color": "#528ebc"
          },
          {
            "number": 20,
            "color": "#d4a129"
          },
          {
            "number": 35,
            "color": "#ee7401"
          },
          {
            "number": 50,
            "color": "#cb1a14"
          },
          {
            "number": 75,
            "color": "#a20500"
          }
        ]
      }
    }
  },
  "thumbnail": {
  },
  "audio": {
    "audios": {
      "a1": {
        "parts": [
          {
            "type": "text",
            "pattern": ""
          }
        ]
      }
    }
  },
  "sequence": {
    "type": "custom",
    "pattern": [
      {
        "image": "corona1",
        "audio_l": "a1",
        "time_diff": 10
      }
    ]
  },
  "run_config": {
    "Bundesland": {
      "type": "string",
      "display_name": "Bundesland",
      "optional": false,
      "default_value": "Hessen"
    }
  },
  "presets": {
    "corona_1": {
      "anchor_point": "left",
      "color": "black",
      "font_size": 70,
      "font": "fonts/Dosis-Medium.ttf"
    }
  }
}
